<!DOCTYPE html>
<html lang="en">
  <head>
    <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="PUBLIC">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content=" Interactive Map of the Madison Historic District ">
    <meta name="author" content=" Annette Harper ">

    <link rel="icon" href="images/Icon.png">
    <title>Madison Historic District</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

    <!-- build:css css/style.min.css -->
    <link href='css/style.css' rel="stylesheet">
    <!-- /build -->

  </head>

  <body>
    <div id="header"></div>

    <!-- Bootstrap navigation bar -->
    <nav class="navbar navbar-default navbar-static-top" role="navigation" id="topnavbar">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">MADISON HISTORIC DISTRICT</a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a id="about" href="#">About</a></li>
          <li><a id="contact" href="#">Contact</a></li>
          <li><a id="toggle-button" href="#">Hide Address List</a></li>
        </ul>
      </div><!--/.nav-collapse -->
    </nav>

    <!-- Map and Address List container -->
    <div class="container-fluid">
      <div class="row full-height">
        <div id="MHDmap" class="mapContainer col-xs-7 col-sm-8 col-md-9 col-lg-10"
             data-bind="googlemap: { filteredLocs: filteredLocs,
                        centerLat: 38.735653, centerLon: -85.38157, zoom: 15 }">
        </div><!--/MHDmap -->
        <div id="propertyList-wrapper" class="col-xs-5 col-sm-4 col-md-3 col-lg-2">
          <div class="panel=group" id="accordion">
            <div id="addressFilter" class="panel panel-primary">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a data-toggle="collapse" data-target="#collapseOne" href="#collapseOne" class="collapsed">
                    Filter Address List
                    <span>&nbsp</span>
                    <span class="badge" data-bind="text: filteredCount"></span></a>
                </h4>
              </div>
              <div id="collapseOne" class="panel-collapse collapse">
                <div class="panel-body">
                  <div class="row">
                    <label for="rating">Contributing &nbsp</label>
                    <span><input type="checkbox" name="rating" value="C" data-bind="checked: searchRating" /> Y</span>
                    <span><input type="checkbox" name="rating" value="N/C" data-bind="checked: searchRating" /> N</span>
                  </div>
                  <div class="row">
                    <label for="searchStyle">Style &nbsp</label>
                    <select id="searchStyle" data-bind="options: styles, value: searchStyle">
                    </select>
                  </div>
                  <div class="row">
                    <label for="searchDate">Built Before &nbsp</label><span data-bind="text: searchDate"></span>
                    <input id="searchDate" type="range" min=1800 max=2020 step=10 data-bind="value: searchDate">
                    <hr>
                  </div>
                  <div class="row">
                    <label for="houseNo">House Number &nbsp</label>
                    <input id="houseNo" data-bind="value: searchNo, valueUpdate: 'afterkeydown'" placeholder="All" />
                  </div>
                  <div class="row">
                    <label for="dirs">Direction &nbsp</label>
                    <span><input type="checkbox" name="dirs" value="East" data-bind="checked: searchDirs" /> E</span>
                    <span><input type="checkbox" name="dirs" value="West" data-bind="checked: searchDirs" /> W</span>
                    <span><input type="checkbox" name="dirs" value="" data-bind="checked: searchDirs" /> N/S</span>
                  </div>
                  <div class="row">
                    <label for="searchSt">Street &nbsp</label>
                    <select id="searchSt" data-bind="options: streets, value: searchSt"></select>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="propertyList">
            <ul class="list-unstyled" data-bind="foreach: filteredLocs">
              <li>
                <button class="btn-link" role="link" data-bind="click: $parent.centerOnLoc">
                  <span data-bind="text: Address"></span>
                </button>
              </li>
            </ul>
          </div><!--/propertyList-->
        </div><!--/propertyList-wrapper-->
      </div><!--/row-->
    </div>

    <div class="footer">
      <p>&copy; Annette Harper 2015</p>
    </div>

    <!-- Processing dialog -->
    <!-- Keyboard input not allowed -->
    <div class="modal fade" id="pleaseWaitDialog" data-backdrop="static" data-keyboard="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
              <h1>Processing...</h1>
          </div>
          <div class="modal-body">
              <div class="progress progress-striped active">
                  <div class="progress-bar" style="width: 100%;"></div>
              </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Contact Modal Dialog -->
    <div class="modal fade" id="contactModal" tabindex="-1" role="dialog" aria-labelledby="contactsLabel">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Contact</h4>
          </div>
          <div class="modal-body">
            <address>
              <strong>Annette Harper</strong><br>
              212 West 2nd Street<br>
              Madison, IN 47250<br>
              <a href="mailto:#">m.annette.harper@gmail.com</a>
            </address>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <!-- About Modal Dialog -->
    <div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="aboutLabel">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">About</h4>
          </div>
          <div class="modal-body">
            <h3>Welcome to the Madison Historic District Explorer</h3>
            <p>This is the typical Google Map you're used to with a little twist. Properties within the historic district are marked with icons respresenting their architectural style. You can see the list of properties to the right and filter them as desired using the filter options. To see more of the map, you can hide the list by selecting "Hide Address List" on the menu bar. You can zoom in and out using the zoom control or the mouse wheel, but be aware that if you use the mouse wheel, you should rotate it only one click at a time (otherwise, the icon resizing is negatively impacted.) If you click on a property on the map, or click an address in the links pane, a popup will appear that includes information about the property sourced from the National Historic Landmark Nomination Documentation and, when available, from Zillow.</p>
            <p>Of course, any miss-transcriptions or improper categorizations, and so on, are mine alone. If you notice any errors, please let me at the e-mail address in the Contact dialog.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBmL64rHJ7NwvrWViG_qkFyLqS1ieO7WP8&libraries=geometry&callback=loadmap" defer>
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

    <script async src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <!-- build:js js/MHD.min.js -->
    <script src='js/data.js'></script>
    <script src="js/app.js"> </script>
    <script src="js/model.js"> </script>
    <!-- /build -->

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-63656599-1', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>
